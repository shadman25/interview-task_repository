{"ast":null,"code":"import _classCallCheck from\"D:/ReactProject/recipe-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/ReactProject/recipe-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/ReactProject/recipe-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/ReactProject/recipe-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/ReactProject/recipe-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReactDOM from'react-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewRecipeForm=/*#__PURE__*/function(_Component){_inherits(NewRecipeForm,_Component);var _super=_createSuper(NewRecipeForm);function NewRecipeForm(){var _this;_classCallCheck(this,NewRecipeForm);_this=_super.call(this);_this.state={inputText:'',textareaText:'',originalName:''};// this.recipeToEdit = this.recipeToEdit.bind(this);\n_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.isExistingRecipe=_this.isExistingRecipe.bind(_assertThisInitialized(_this));_this.buildStringFromIngredients=_this.buildStringFromIngredients.bind(_assertThisInitialized(_this));return _this;}_createClass(NewRecipeForm,[{key:\"closeNewRecipeForm\",value:function closeNewRecipeForm(){ReactDOM.unmountComponentAtNode(document.getElementById('new-container'));}},{key:\"componentWillMount\",value:function componentWillMount(){this.setState({originalName:this.props.name});// if (this.props.recipeInfo) {\nif(this.props.ingredients){this.setState({inputText:this.props.name,textareaText:this.buildStringFromIngredients(this.props.ingredients)});this.recipeToEdit={name:this.props.name,ingredients:this.buildStringFromIngredients(this.props.ingredients)};}}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();// making sure it doesn't submit right away\n// Change local storage to the file that was submitted.\nvar newRecipeDetails={title:this.state.inputText.trim()?this.state.inputText:'Untitled',ingredients:this.getIngredientsFromString(this.state.textareaText)};// use a callback function?\nif(this.recipeToEdit){this.props.modifyRecipe(newRecipeDetails,this.state.originalName);// have to give it its original name\n}else{this.props.addRecipe(newRecipeDetails);}//add a check - if there is no title or no ingredients, don't add them to the table.\n// add submission on Enter?\nthis.closeNewRecipeForm();}},{key:\"isExistingRecipe\",value:function isExistingRecipe(){return this.recipeToEdit;}},{key:\"getIngredientsFromString\",value:function getIngredientsFromString(str){return str.split(\",\").map(function(ingredient){return ingredient.trim();});}},{key:\"buildStringFromIngredients\",value:function buildStringFromIngredients(arr){return arr.join(', ');}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"form\",{className:\"new-recipe-form\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-recipe-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-font\",children:\"Add a Recipe\"}),/*#__PURE__*/_jsx(\"p\",{className:\"close-icon\",onClick:this.closeNewRecipeForm,children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-recipe-body\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Recipe\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Recipe Name\",value:this.state.inputText// value={this.state.inputText || this.isExistingRecipe().name}\n,onChange:function onChange(event){return _this2.setState({inputText:event.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Enter ingredients, Separated, By commas\",value:this.state.textareaText// value={this.state.textareaText || this.isExistingRecipe().ingredients }\n,onChange:function onChange(event){return _this2.setState({textareaText:event.target.value});}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-recipe-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"add-recipe-button\",children:\"Add a Recipe\"}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-btn\",onClick:this.closeNewRecipeForm,children:\"Close\"})]})]});}}]);return NewRecipeForm;}(Component);export default NewRecipeForm;","map":{"version":3,"sources":["D:/ReactProject/recipe-project/src/components/new-recipe-form.js"],"names":["React","Component","ReactDOM","NewRecipeForm","state","inputText","textareaText","originalName","handleSubmit","bind","isExistingRecipe","buildStringFromIngredients","unmountComponentAtNode","document","getElementById","setState","props","name","ingredients","recipeToEdit","event","preventDefault","newRecipeDetails","title","trim","getIngredientsFromString","modifyRecipe","addRecipe","closeNewRecipeForm","str","split","map","ingredient","arr","join","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass NewRecipeForm extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tinputText: '',\r\n\t\t\ttextareaText: '',\r\n\t\t\toriginalName: ''\r\n\t\t}\r\n\r\n\t\t// this.recipeToEdit = this.recipeToEdit.bind(this);\r\n\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.isExistingRecipe = this.isExistingRecipe.bind(this);\r\n\t\tthis.buildStringFromIngredients = this.buildStringFromIngredients.bind(this);\r\n\t}\r\n\r\n\tcloseNewRecipeForm() {\r\n\t\tReactDOM.unmountComponentAtNode(document.getElementById('new-container'));\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.setState({\r\n\t\t\toriginalName: this.props.name\r\n\t\t});\r\n\t\t// if (this.props.recipeInfo) {\r\n\t\tif (this.props.ingredients) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tinputText: this.props.name,\r\n\t\t\t\ttextareaText: this.buildStringFromIngredients(this.props.ingredients)\r\n\t\t\t});\r\n\r\n\t\t\tthis.recipeToEdit = {\r\n\t\t\t\tname: this.props.name,\r\n\t\t\t\tingredients: this.buildStringFromIngredients(this.props.ingredients)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault(); // making sure it doesn't submit right away\r\n\t\t// Change local storage to the file that was submitted.\r\n\t\tvar newRecipeDetails = {\r\n\t\t\ttitle: this.state.inputText.trim() ? this.state.inputText : 'Untitled',\r\n\t\t\tingredients: this.getIngredientsFromString(this.state.textareaText)\r\n\t\t};\r\n\t\t// use a callback function?\r\n\t\tif (this.recipeToEdit) {\r\n\t\t\tthis.props.modifyRecipe(newRecipeDetails, this.state.originalName); // have to give it its original name\r\n\t\t} else {\r\n\t\t\tthis.props.addRecipe(newRecipeDetails);\r\n\t\t}\r\n\r\n\t\t//add a check - if there is no title or no ingredients, don't add them to the table.\r\n\t\t// add submission on Enter?\r\n\t\tthis.closeNewRecipeForm();\r\n\t}\r\n\r\n\tisExistingRecipe() {\r\n\t\treturn this.recipeToEdit;\r\n\t}\r\n\r\n\tgetIngredientsFromString(str) {\r\n\t\treturn str.split(\",\").map(ingredient => ingredient.trim());\r\n\t}\r\n\r\n\tbuildStringFromIngredients(arr) {\r\n\t\treturn arr.join(', ');\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form className=\"new-recipe-form\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t<div className=\"new-recipe-header\">\r\n\t\t\t\t\t<p className=\"m-font\">Add a Recipe</p>\r\n\t\t\t\t\t<p className=\"close-icon\" onClick={this.closeNewRecipeForm}>&#10005;</p>\r\n\t\t\t\t\t{/* <i className=\"fa fa-times close-form\" aria-hidden=\"true\" onClick={this.closeNewRecipeForm}></i> */}\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"new-recipe-body\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p>Recipe</p>\r\n\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Recipe Name\"\r\n\t\t\t\t\t\t\tvalue={this.state.inputText }\r\n\t\t\t\t\t\t\t// value={this.state.inputText || this.isExistingRecipe().name}\r\n\t\t\t\t\t\t\tonChange={(event) => this.setState({ inputText: event.target.value })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p>Ingredients</p>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tplaceholder=\"Enter ingredients, Separated, By commas\"\r\n\t\t\t\t\t\t\tvalue={this.state.textareaText }\r\n\t\t\t\t\t\t\t// value={this.state.textareaText || this.isExistingRecipe().ingredients }\r\n\t\t\t\t\t\t\tonChange={(event) => this.setState({ textareaText: event.target.value })}></textarea>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"new-recipe-footer\">\r\n\t\t\t\t\t\t<button type=\"submit\" className=\"add-recipe-button\">Add a Recipe</button>\r\n\t\t\t\t\t\t<button className=\"edit-btn\" onClick={this.closeNewRecipeForm}>Close</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\nexport default NewRecipeForm;"]},"metadata":{},"sourceType":"module"}