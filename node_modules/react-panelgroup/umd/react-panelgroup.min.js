!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactPanelGroup=t(require("react")):e.ReactPanelGroup=t(e.React)}(window,function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t);var i,r,o=n(0),s=n.n(o);function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l,p,d=(r=i=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=a(this,e.call.apply(e,[this].concat(o))),i.onResizeObjectLoad=function(){i.refs.resizeObject.contentDocument.defaultView.addEventListener("resize",function(){return i.calculateStretchWidth()})},i.onNextFrame=function(e){setTimeout(function(){window.requestAnimationFrame(e)},0)},i.calculateStretchWidth=function(){if(null!==i.props.onWindowResize){var e=i.node.getBoundingClientRect();i.props.onWindowResize(i.props.panelID,{x:e.width,y:e.height},void 0,i.node.parentElement)}},a(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;"stretch"===this.props.resize&&(this.refs.resizeObject.addEventListener("load",function(){return e.onResizeObjectLoad()}),this.refs.resizeObject.data="about:blank",this.calculateStretchWidth())},t.prototype.createResizeObject=function(){return"stretch"===this.props.resize?s.a.createElement("object",{"aria-label":"panel",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1,opacity:0},ref:"resizeObject",type:"text/html"}):null},t.prototype.render=function(){var e=this,t=this.createResizeObject();return s.a.createElement("div",{ref:function(t){e.node=t},className:"panelWrapper",style:this.props.style},t,this.props.children)},t}(s.a.Component),i.defaultProps={resize:void 0,onWindowResize:void 0},r);var c,h,u=(p=l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call.apply(e,[this].concat(i)));return o.handleDragStart=function(e,t,n){o.setState({dragging:!0,initPos:{x:t,y:n}}),e.stopPropagation(),e.preventDefault()},o.handleDragEnd=function(e){o.setState({dragging:!1}),e.stopPropagation(),e.preventDefault()},o.handleDragMove=function(e,t,n){if(o.state.dragging){var i={x:t-o.state.initPos.x,y:n-o.state.initPos.y},r="row"===o.props.direction?1:0,s="column"===o.props.direction?1:0,a=i.x*r+i.y*s,l=o.handleResize(o.props.panelID,i);if(l+a!==0){var p=l===a;o.setState({initPos:{x:t+(p?0:l*r),y:n+(p?0:l*s)}})}e.stopPropagation(),e.preventDefault()}},o.onMouseDown=function(e){0===e.button&&o.handleDragStart(e,e.pageX,e.pageY)},o.onMouseMove=function(e){o.handleDragMove(e,e.pageX,e.pageY)},o.onTouchStart=function(e){o.handleDragStart(e,e.touches[0].clientX,e.touches[0].clientY)},o.onTouchMove=function(e){o.handleDragMove(e,e.touches[0].clientX,e.touches[0].clientY)},o.handleResize=function(e,t){return o.props.handleResize(e,t)},o.getHandleWidth=function(){return o.props.dividerWidth+2*o.props.handleBleed},o.getHandleOffset=function(){return o.props.dividerWidth/2-o.getHandleWidth()/2},o.state={dragging:!1,initPos:{x:null,y:null}},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.dragging&&!t.dragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("mouseup",this.handleDragEnd),document.addEventListener("touchend",this.handleDragEnd,{passive:!1}),this.props.onResizeStart()):!this.state.dragging&&t.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),document.removeEventListener("mouseup",this.handleDragEnd),document.removeEventListener("touchend",this.handleDragEnd,{passive:!1}),this.props.onResizeEnd())},t.prototype.render=function(){var e={divider:{width:"row"===this.props.direction?this.props.dividerWidth:"auto",minWidth:"row"===this.props.direction?this.props.dividerWidth:"auto",maxWidth:"row"===this.props.direction?this.props.dividerWidth:"auto",height:"column"===this.props.direction?this.props.dividerWidth:"auto",minHeight:"column"===this.props.direction?this.props.dividerWidth:"auto",maxHeight:"column"===this.props.direction?this.props.dividerWidth:"auto",flexGrow:0,position:"relative"},handle:{position:"absolute",width:"row"===this.props.direction?this.getHandleWidth():"100%",height:"column"===this.props.direction?this.getHandleWidth():"100%",left:"row"===this.props.direction?this.getHandleOffset():0,top:"column"===this.props.direction?this.getHandleOffset():0,backgroundColor:this.props.showHandles?"rgba(0,128,255,0.25)":"auto",cursor:"row"===this.props.direction?"col-resize":"row-resize",zIndex:100}};Object.assign(e.divider,{backgroundColor:this.props.borderColor});var t="divider";return this.state.dragging&&(t+=" dragging"),s.a.createElement("div",{className:t,style:e.divider,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},s.a.createElement("div",{style:e.handle}))},t}(s.a.Component),l.defaultProps={dividerWidth:1,handleBleed:4,direction:void 0,showHandles:!1,borderColor:void 0,onResizeStart:void 0,onResizeEnd:void 0},p),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var z=(h=c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call.apply(e,[this].concat(i)));return o.defaultResize=function(e,t,n){var i=n;return i=e.panelWidths[t].resize?e.panelWidths[t].resize:e.panelWidths[t].size?"dynamic":i},o.loadPanels=function(e){var t=[];if(e.children)for(var n=!1,i=s.a.Children.toArray(e.children),r=0;r<i.length;r++){if(r<e.panelWidths.length&&e.panelWidths[r]){var a={size:void 0!==e.panelWidths[r].size?e.panelWidths[r].size:256,minSize:void 0!==e.panelWidths[r].minSize?e.panelWidths[r].minSize:48,maxSize:void 0!==e.panelWidths[r].maxSize?e.panelWidths[r].maxSize:0,resize:o.defaultResize(e,r,"stretch"),snap:void 0!==e.panelWidths[r].snap?e.panelWidths[r].snap:[],style:f({},o.getPanelClass().defaultProps.style,e.panelWidths[r].style||{})};t.push(a)}else t.push({size:256,resize:"stretch",minSize:48,maxSize:0,snap:[],style:{}});"stretch"===t[r].resize&&(n=!0),n||r!==i.length-1||(t[r].resize="stretch")}return{panels:t}},o.onUpdate=function(e){o.props.onUpdate&&o.props.onUpdate(e.slice())},o.onResizeStart=function(){o.props.onResizeStart&&o.props.onResizeStart(o.state.panels.slice())},o.onResizeEnd=function(){o.props.onResizeEnd&&o.props.onResizeEnd(o.state.panels.slice())},o.getSizeDirection=function(e){return e?"column"===o.props.direction?"Height":"Width":"column"===o.props.direction?"height":"width"},o.handleResize=function(e,t){var n=o.state.panels.slice(),i=o.resizePanel(e,"row"===o.props.direction?t.x:t.y,n);return o.setState({panels:n}),o.onUpdate(n),i},o.resizePanel=function(e,t,n){for(var i=0,r=0;r<n.length;r+=1)i+=n[r].size;var s=o.node.getBoundingClientRect(),a=("column"===o.props.direction?s.height:s.width)-o.props.spacing*(o.props.children.length-1);Math.abs(a-i)<=.01&&(n[e].size+=a-i);var l=void 0,p=void 0,d=t;n[e].size+=t,n[e+1].size-=t,l=o.getPanelMinSize(e,n),p=o.getPanelMaxSize(e,n),n[e].size<l&&(t=l-n[e].size,d=0===e?o.resizePanel(e,t,n):o.resizePanel(e-1,-t,n)),0!==p&&n[e].size>p&&(t=n[e].size-p,d=0===e?o.resizePanel(e,-t,n):o.resizePanel(e-1,t,n)),l=o.getPanelMinSize(e+1,n),p=o.getPanelMaxSize(e+1,n),n[e+1].size<l&&(t=l-n[e+1].size,d=e+1===n.length-1?o.resizePanel(e,-t,n):o.resizePanel(e+1,t,n)),0!==p&&n[e+1].size>p&&(t=n[e+1].size-p,d=e+1===n.length-1?o.resizePanel(e,t,n):o.resizePanel(e+1,-t,n));for(var c=0;c<n[e].snap.length;c++)Math.abs(n[e].snap[c]-n[e].size)<20&&0!==(t=n[e].snap[c]-n[e].size)&&n[e].size+t>=o.getPanelMinSize(e,n)&&n[e+1].size-t>=o.getPanelMinSize(e+1,n)&&(d=o.resizePanel(e,t,n));for(var h=0;h<n[e+1].snap.length;h++)Math.abs(n[e+1].snap[h]-n[e+1].size)<20&&0!==(t=n[e+1].snap[h]-n[e+1].size)&&n[e].size+t>=o.getPanelMinSize(e,n)&&n[e+1].size-t>=o.getPanelMinSize(e+1,n)&&(d=o.resizePanel(e,-t,n));return d},o.getPanelMinSize=function(e,t){return"fixed"===t[e].resize?(t[e].fixedSize||(t[e].fixedSize=t[e].size),t[e].fixedSize):t[e].minSize},o.getPanelMaxSize=function(e,t){return"fixed"===t[e].resize?(t[e].fixedSize||(t[e].fixedSize=t[e].size),t[e].fixedSize):t[e].maxSize},o.getPanelGroupMinSize=function(e){for(var t=0,n=0;n<o.state.panels.length;n++)t+=o.getPanelMinSize(n,o.state.panels);return t+(o.state.panels.length-1)*e},o.getPanelGroupMaxSize=function(e){for(var t=0,n=0;n<o.state.panels.length;n++)t+=o.getPanelMaxSize(n,o.state.panels);return t+(o.state.panels.length-1)*e},o.setPanelSize=function(e,t,n,i){if(!o.node&&i&&(o.node=i),(t="column"===o.props.direction?t.y:t.x)!==o.state.panels[e].size){var r=o.state.panels.map(function(e){return f({},e)});if(t<r[e].minSize){var s=r[e].minSize-t;r[e].size=r[e].minSize;for(var a=0;a<r.length;a+=1)if(a!==e&&"dynamic"===r[a].resize){var l=r[a].size-r[a].minSize,p=Math.min(s,l);if(r[a].size-=p,0===(s-=p))break}}else r[e].size=t;o.setState({panels:r}),o.onUpdate(r),e>0?o.handleResize(e-1,{x:0,y:0}):o.state.panels.length>2&&o.handleResize(e+1,{x:0,y:0}),n&&n()}},o.state=o.loadPanels(o.props),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.panelWidths;if(t.length)if(this.state.panels.length!==t.length)this.setState(this.loadPanels(e));else for(var n=0;n<t.length;n++)if(this.state.panels[n].size!==t[n].size||this.state.panels[n].minSize!==t[n].minSize||this.state.panels[n].maxSize!==t[n].maxSize||this.state.panels[n].resize!==t[n].resize){this.setState(this.loadPanels(e));break}},t.prototype.getStyle=function(){var e;return{container:((e={width:"100%",height:"100%"})["min"+this.getSizeDirection(!0)]=this.getPanelGroupMinSize(this.props.spacing),e.display="flex",e.flexDirection=this.props.direction,e.flexGrow=1,e),panel:{flexGrow:0,display:"flex"}}},t.prototype.getPanelStyle=function(e){var t,n=this.props,i=n.direction,r=n.panelColor,o=this.state.panels[e],s=o.style,a=f(((t={})[this.getSizeDirection()]=o.size,t["row"===i?"height":"width"]="100%",t["min"+this.getSizeDirection(!0)]="stretch"===o.resize?0:o.size,t.flexGrow="stretch"===o.resize?1:0,t.flexShrink="stretch"===o.resize?1:0,t.display="flex",t.overflow="hidden",t.position="relative",t),s);return null!==r&&(a=f({},a,{backgroundColor:r})),a},t.prototype.createPanelProps=function(e){var t=e.panelStyle,n=e.index,i=e.initialChildren,r=this.state.panels[n],o=!1,s={isFirst:0===n,isLast:n===i.length-1,resize:r.resize,onWindowResize:"stretch"===r.resize?this.setPanelSize:null};return"stretch"===r.resize&&(o=!0),!o&&s.isLast&&(s.resize="stretch"),f({style:t,key:n,panelID:n},s)},t.prototype.createPanel=function(e){var t=e.panelStyle,n=e.index,i=e.initialChildren,r=this.getPanelClass();return s.a.createElement(r,this.createPanelProps({panelStyle:t,index:n,initialChildren:i}),i[n])},t.prototype.getPanelClass=function(){return d},t.prototype.maybeDivide=function(e){var t=e.initialChildren,n=e.newChildren,i=e.index;i<t.length-1&&n.push(s.a.createElement(u,{borderColor:this.props.borderColor,key:"divider"+i,panelID:i,handleResize:this.handleResize,dividerWidth:this.props.spacing,direction:this.props.direction,showHandles:this.props.showHandles,onResizeStart:this.onResizeStart,onResizeEnd:this.onResizeEnd}))},t.prototype.render=function(){for(var e=this,t=this.props.children,n=this.getStyle(),i=s.a.Children.toArray(t),r=[],o=0;o<i.length;o++){var a=this.getPanelStyle(o),l=this.createPanel({panelStyle:a,index:o,initialChildren:i});r.push(l),this.maybeDivide({initialChildren:i,newChildren:r,index:o})}return s.a.createElement("div",{className:"panelGroup",style:n.container,ref:function(t){e.node=t}},r)},t}(s.a.Component),c.defaultProps={spacing:1,direction:"row",panelWidths:[],onUpdate:void 0,onResizeStart:void 0,onResizeEnd:void 0,panelColor:void 0,borderColor:void 0,showHandles:!1},h);n.d(t,"Panel",function(){return d}),n.d(t,"Divider",function(){return u});t.default=z},function(e,t,n){e.exports=n(1)}]).default});
//# sourceMappingURL=react-panelgroup.min.js.map